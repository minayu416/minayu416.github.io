3:I[9275,[],""]
5:I[1343,[],""]
6:I[4080,["185","static/chunks/app/layout-e55aa3f0608d2ec4.js"],""]
4:["routes","en/2023/07/jira-api-research","c"]
0:["xA9gRqQM-BKEPOE6Jf_XA",[[["",{"children":[["routes","en/2023/07/jira-api-research","c"],{"children":["__PAGE__?{\"routes\":[\"en\",\"2023\",\"07\",\"jira-api-research\"]}",{}]}]},"$undefined","$undefined",true],["",{"children":[["routes","en/2023/07/jira-api-research","c"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},[["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null],null]},[["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","$L6",null,{"src":"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","strategy":"afterInteractive"}],["$","$L6",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-EETGWC7GNV","strategy":"afterInteractive"}],["$","$L6",null,{"id":"ga4-init","strategy":"afterInteractive","children":"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', 'G-EETGWC7GNV', {\n              page_path: window.location.pathname,\n            });\n          "}]]}],["$","body",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/48ada01eb3a53e34.css","precedence":"next","crossOrigin":"$undefined"}]],[null,"$L7"]]]]]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"[Back-end] How to use Python send requests to Jira APIs (Create and Get Ticket, Leave Comment and Upload Attachments) - @Mina Influence"}],["$","meta","3",{"name":"description","content":"In this post, I will take note on how we use Python for sending requests to Jira APIs."}],["$","meta","4",{"name":"application-name","content":"@Mina Influence"}],["$","meta","5",{"name":"author","content":"minayu416"}],["$","link","6",{"rel":"author","href":"https://minayu.site"}],["$","meta","7",{"name":"author","content":"@Mina Influence"}],["$","meta","8",{"name":"generator","content":"Next.js 14.2.5"}],["$","meta","9",{"name":"keywords","content":"Jira APIs,Python,Atlassian"}],["$","meta","10",{"name":"referrer","content":"origin-when-cross-origin"}],["$","meta","11",{"name":"creator","content":"minayu416"}],["$","meta","12",{"name":"publisher","content":"minayu416"}],["$","meta","13",{"name":"robots","content":"index, follow"}],["$","meta","14",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","15",{"rel":"canonical","href":"https://minayu.site/en/2023/07/jira-api-research/"}],["$","link","16",{"rel":"alternate","hrefLang":"en","href":"https://minayu.site/en/2023/07/jira-api-research/"}],["$","meta","17",{"name":"format-detection","content":"telephone=no, address=no, email=no"}],["$","meta","18",{"property":"og:title","content":"[Back-end] How to use Python send requests to Jira APIs (Create and Get Ticket, Leave Comment and Upload Attachments)"}],["$","meta","19",{"property":"og:description","content":"In this post, I will take note on how we use Python for sending requests to Jira APIs."}],["$","meta","20",{"property":"og:url","content":"https://minayu.site/en/2023/07/jira-api-research/"}],["$","meta","21",{"property":"og:site_name","content":"@Mina Influence"}],["$","meta","22",{"property":"og:locale","content":"en"}],["$","meta","23",{"property":"og:image","content":"https://minayu.site/static/img/cover-image.jpeg"}],["$","meta","24",{"property":"og:image:width","content":"1200"}],["$","meta","25",{"property":"og:image:height","content":"630"}],["$","meta","26",{"property":"og:type","content":"article"}],["$","meta","27",{"property":"article:published_time","content":"2023-07-02T02:37:20.000Z"}],["$","meta","28",{"property":"article:author","content":"Mina Yu"}],["$","meta","29",{"name":"twitter:card","content":"summary"}],["$","meta","30",{"name":"twitter:site:id","content":"@MingJungYU"}],["$","meta","31",{"name":"twitter:creator","content":"@MingJungYU"}],["$","meta","32",{"name":"twitter:title","content":"[Back-end] How to use Python send requests to Jira APIs (Create and Get Ticket, Leave Comment and Upload Attachments)"}],["$","meta","33",{"name":"twitter:description","content":"In this post, I will take note on how we use Python for sending requests to Jira APIs."}],["$","meta","34",{"name":"twitter:image","content":"https://minayu.site/static/img/cover-image.jpeg"}],["$","meta","35",{"name":"twitter:image:alt","content":"@Mina Influence Image"}],["$","link","36",{"rel":"shortcut icon","href":"/static/img/favicon.jpg"}],["$","link","37",{"rel":"icon","href":"/static/img/favicon.jpg"}],["$","link","38",{"rel":"apple-touch-icon","href":"/static/img/favicon.jpg"}],["$","meta","39",{"name":"next-size-adjust"}]]
1:null
8:I[619,["676","static/chunks/870fdd6f-d8d8a996639eb86b.js","168","static/chunks/168-06c8f4fac5ec5c0f.js","619","static/chunks/619-4671ee34442d690f.js","432","static/chunks/app/%5B...routes%5D/page-ab50a535e409addd.js"],"Navbar"]
9:T1dd7,<p>Jira is a web service developed by Atlassian for project management.</p>
<h2 id="table-of-content">Table of Content</h2>
<ul>
<li>Introduction</li>
<li>Implementation
<ul>
<li>Case 1: Create a new Jira Ticket</li>
<li>Case 2: Get the content of specific Jira Ticket</li>
<li>Case 3: Leave Comment in specific Ticket</li>
<li>Case 4: Upload attachments in specific Ticket</li>
</ul>
</li>
</ul>
<h2 id="前言">前言</h2>
<p>In my current company, we have more complex and strict deployment flow for releasing new features in production.</p>
<p>It controlled by Jira Ticket and we need to create new ticket manually for submit a new release request to DevOps Team, they will work on the ticket requirement and request us to provide security scan evidence.</p>
<p>Our product managers hope to automate part of flow, so that's the new research to our team.</p>
<h2 id="implementation">Implementation</h2>
<p>Are you ready to go? That's start at Code.</p>
<p>General Settings</p>
<pre><code class="language-py"># Authorization variable
# When send requests to Jira APIs, we need to add Authorization in request Header.
# You can generate a new token in your account settings.
Auth = "Bearer &#x3C;your-token>"

# In each Jira Ticket there is a key represent the ticket, it is not title, we suppose a new ticket key is PX-1996, the real scene, you need to refer your team policy.
issue_key = "PX-1996"

</code></pre>
<h3 id="case-1-create-a-new-jira-ticket">Case 1: Create a new Jira Ticket</h3>
<pre><code class="language-py">def create_ticket(issue_key, title, description):
    try:
        # API request url, for creating the url is /rest/api/2/issue/
        # The hostname, you need to refer the Jira web url you use and replace the following &#x3C;jira.hostname> part.
        url = "https://&#x3C;jira.hostname>/rest/api/2/issue/"

        headers = {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
            # Put the Authorization here
            'Authorization': Auth
        }

        data = {
            'fields': {
                'project': {
                    # Fill up the ticket key name, which we define in the above.
                    'key': issue_key
                },
                # Fill up the Ticket title
                'summary': title,
                # Ticket description
                'description': description,
                # Issue Type，example is Story, you can fill other issue type, for example: Task.
                'issuetype': {
                    'name': 'Story'
                },
                # This customfield in my side represent Team, you can fill additional info by these customfield columns.
                # You can go to other ticket and right Click > Inspect > point to the column you want to see the column name.
                # If you don't need this, you can delete this line.
                'customfield_23231': {"value": "&#x3C;Team Name>"}
            }
        }

        # Send POST request to create ticket.
        response = requests.post(url, headers=headers, json=data)
        print(response.status_code)
        print(response.text)

        # If get HTTP code 201, it means created success.
        if response.status_code == 201:
            issue_key = response.json().get('key')
            print(f'Jira issue created with key: {issue_key}')
        else:
            print('Failed to create Jira issue..')

    # Error Handle
    except Exception as ex:
        print(f'Exception in creating Jira issue: {ex}')

    finally:
        print('process finish.')
</code></pre>
<h3 id="case-2-get-the-content-of-specific-jira-ticket">Case 2: Get the content of specific Jira Ticket</h3>
<pre><code class="language-py">def detect_ticket_status(issue_key):
    # API request url, for getting the specific ticket content, the url is /rest/api/2/issue/&#x3C;issue-key>
    # The hostname, you need to refer the Jira web url you use and replace the following &#x3C;jira.hostname> part.
    url = f"https://&#x3C;jira.hostname>/rest/api/2/issue/{issue_key}"

    headers = {
        # Put the Authorization here
        "Authorization": Auth
    }

    # For getting information, we use Get request
    response = requests.get(url, headers=headers)

    # If success, get HTTP Code 200
    if response.status_code == 200:
        data = response.json()
        # The ticket information can be got at data.
        workflow_status = data['fields']['status']['name']
        print(f"{issue_key} workflow status：{workflow_status}")

    else:
        print(f"Error status code: {response.status_code}")

</code></pre>
<h3 id="case-3-leave-comment-in-specific-ticket">Case 3: Leave Comment in specific Ticket</h3>
<pre><code class="language-py">def add_jira_comment(issue_key, comment):
    try:
        # API request url, for adding the comment in specific ticket, the url is /rest/api/2/issue/&#x3C;issue_key>/comment
        # The hostname, you need to refer the Jira web url you use and replace the following &#x3C;jira.hostname> part.
        url = f"https://&#x3C;jira.hostname>/rest/api/2/issue/{issue_key}/comment"

        headers = {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
            'Authorization': Auth
        }

        data = {
            'body': comment
        }

        # for adding new comment, we use POST request
        response = requests.post(url, headers=headers, json=data)
        print(response.status_code)
        print(response.text)

        # If comment added success, get HTTP Code 201
        if response.status_code == 201:
            print(response.json())
            print(f'Jira cooment upload successful.')
        else:
            print('Failed to uplad jira comment..')

    except Exception as ex:
        print(f'Exception in uploading Jira comment: {ex}')

    finally:
        print('process finish.....!!!!')

</code></pre>
<h3 id="case-4-upload-attachments-in-specific-ticket">Case 4: Upload attachments in specific Ticket</h3>
<pre><code class="language-py">
# Upload files format, allow upload multiple files.
# The example is uploading multiple photos.
files = [
    ('file', ('test_photo1.png', open('./screenshot_1.png', 'rb'), 'image/png')),
    ('file', ('test_photo2.png', open('./screenshot_2.png', 'rb'), 'image/png'))
]

def add_jira_attachment(issue_key, files):
    # API request url, for uploading the attachments in specific ticket, the url is /rest/api/2/issue/&#x3C;issue_key>/attachments
    # The hostname, you need to refer the Jira web url you use and replace the following &#x3C;jira.hostname> part.
    url = f"https://&#x3C;jira.hostname>/rest/api/2/issue/{issue_key}/attachments"

    # The Authorization method here is different to previous. We need to use HTTPBasicAuth to help us create HTTPBasicAuth object.
    # Parameters are your Jira name(id) and password, not email.
    credentials = requests.auth.HTTPBasicAuth("Jira Username", "Jira Password")

    # This header paramaeter is necessary for uploading files.
    headers = {'X-Atlassian-Token': 'no-check'}

    # We send POST request and put the auth and files with request
    response = requests.post(url, auth=credentials, files=files, headers=headers)

    # Upload success and get the response status here.
    print(response.status_code)
    print(response.text)

</code></pre>
<p>That's all the implementation I did in this research.</p>
<p>More cases please refer the official document: <a href="https://developer.atlassian.com/server/jira/platform/rest-apis/">REST APIs - Jira Server</a></p>
<p>Thank you!</p>2:[["$","header",null,{"children":["$","div",null,{"className":"max-auto","children":["$","div",null,{"className":"mx-auto flex flex-wrap border-b border-solid","children":[["$","div",null,{"className":"lg:w-1/2 w-full lg: h-full object-cover object-center bg-cover","children":["$","div",null,{"className":"w-full h-full","children":["$","div",null,{"className":"relative overflow-hidden","children":[["$","img",null,{"className":"object-cover w-full brightness-75 h-[20rem]` md:h-[25rem]","src":"/static/img/blog-cover-image.jpg","alt":"Blog Cover Image"}],["$","div",null,{"children":[["$","$L8",null,{}],["$","div",null,{"className":"absolute px-2 py-2 site-branding h-[25rem]","children":[["$","div",null,{"className":"site-title","children":["$","p",null,{"children":["$","a",null,{"href":"/en","children":"@Mina Influence"}]}]}],["$","div",null,{"className":"site-description","children":["$","p",null,{"children":"Inspire you to have New thinking, Walk out your unique Road."}]}]]}]]}]]}]}]}],["$","div",null,{"className":"grid justify-items-center lg:w-1/2 w-full lg:h-auto lg:py-6 mt-6 lg:mt-0 hidden md:block","children":["$","div",null,{"className":"blog-branding-intro motto-block","children":["$","section",null,{"className":"text-gray-500 body-font","children":["$","div",null,{"className":"container px-6 mx-auto","children":["$","div",null,{"className":"w-full mx-auto text-center","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"currentColor","className":"inline-block w-6 h-6 text-gray-400 mb-4","viewBox":"0 0 975.036 975.036","children":["$","path",null,{"d":"M925.036 57.197h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.399 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l36 76c11.6 24.399 40.3 35.1 65.1 24.399 66.2-28.6 122.101-64.8 167.7-108.8 55.601-53.7 93.7-114.3 114.3-181.9 20.601-67.6 30.9-159.8 30.9-276.8v-239c0-27.599-22.401-50-50-50zM106.036 913.497c65.4-28.5 121-64.699 166.9-108.6 56.1-53.7 94.4-114.1 115-181.2 20.6-67.1 30.899-159.6 30.899-277.5v-239c0-27.6-22.399-50-50-50h-304c-27.6 0-50 22.4-50 50v304c0 27.601 22.4 50 50 50h145.5c-1.9 79.601-20.4 143.3-55.4 191.2-27.6 37.8-69.4 69.1-125.3 93.8-25.7 11.3-36.8 41.7-24.8 67.101l35.9 75.8c11.601 24.399 40.501 35.2 65.301 24.399z"}]}],["$","p",null,{"className":"leading-relaxed","children":"Sometimes, you just meet some stories and invoked your inspiration, then later you use a totally different way, different concept to have a different life in the future."}],["$","span",null,{"className":"inline-block h-1 w-10 rounded bg-pink-500 mt-8 mb-6"}],["$","h2",null,{"className":"text-gray-900 font-medium title-font tracking-wider text-lg","children":"Sign @MinaYu."}]]}]}]}]}]}]]}]}]}],["$","section",null,{"className":"text-gray-600 body-font","children":["$","div",null,{"className":"container py-12 mx-auto","children":["$","div",null,{"className":"flex-wrap","children":["$","div",null,{"className":"p-2","children":["$","div",null,{"className":"mx-auto flex flex-wrap bg-white","children":[["$","div",null,{"className":"lg:w-2/3 w-full lg: h-full object-cover object-center bg-cover","children":["$","div",null,{"className":"px-4 mb-4","children":[["$","div",null,{"className":"mb-10 border border-solid py-4","children":[["$","p",null,{"className":"text-center tracking-widest text-md font-medium post-category font-fondamento","children":"IT Things and Development"}],["$","h3",null,{"className":"text-center tracking-widest text-md font-medium post-category font-fondamento","children":"it-things-and-development"}],["$","p",null,{"className":"font-bold text-center text-gray grid-subtitle text-md font-fondamento px-4 pt-2 pb-2","children":"[Back-end] How to use Python send requests to Jira APIs (Create and Get Ticket, Leave Comment and Upload Attachments)"}],["$","p",null,{"className":"text-center test-gray italic tracking-wider font-mario","children":["Posted on ","Jul"," ",2,", ",2023]}]]}],["$","div",null,{"className":"flex-wrap","children":["",["$","article",null,{"className":"prose prose-slate prose-lg md:prose-base max-w-none break-words whitespace-pre-wrap [&_h1]:text-2xl [&_h1]:mb-0 [&_h2]:mb-0 [&_h2]:text-xl [&_p]:mt-2 [&_p]:mb-2 [&_li]:mt-1 [&_li]:mb-1 [&_li]:leading-snug [&_ul]:mt-0 [&_ul]:mb-0 [&_ul]:leading-none","children":["$","div",null,{"dangerouslySetInnerHTML":{"__html":"$9"}}]}]]}]]}]}],["$","div",null,{"className":"lg:w-1/3 w-full lg:h-auto lg: mt-6 lg:mt-0","children":["$","div",null,{"className":"px-4","children":[["$","div",null,{"children":[["$","div",null,{"className":"mb-10 border border-solid py-4","children":["$","p",null,{"className":"font-bold text-center text-gray grid-subtitle text-md","children":"ABOUT ME"}]}],["$","div",null,{"className":"flex items-center justify-center","children":["$","img",null,{"className":"object-cover rounded-full","width":"175","height":"175","src":"/static/img/logo.jpg","alt":"Author Profile"}]}],["$","p",null,{"className":"leading-relaxed text-md text-center pt-3 pb-3 px-2 motto-block","children":"Hi, this is Mina, an ENTP type person always with innovative ideas. Cheerful, lively, also romantic. A software engineer, blogger, love to explore different cultures and build entrepreneurship. "}],["$","p",null,{"className":"leading-relaxed text-2xl text-center pt-1 pb-4 motto-block","children":"@MinaYu Signed"}],["$","div",null,{"className":"border border-solid py-4","children":["$","p",null,{"className":"font-bold text-center text-gray grid-subtitle text-md","children":"BLOG STATS"}]}],["$","div",null,{"className":"my-5 pl-5 font-bold font-voll","children":[["$","span",null,{"id":"busuanzi_container_site_pv","children":["$","p",null,{"className":"pb-2","children":["Visits: ",["$","span",null,{"id":"busuanzi_value_site_pv"}]]}]}],["$","span",null,{"id":"busuanzi_container_site_uv","children":["$","p",null,{"children":["Visitors: ",["$","span",null,{"id":"busuanzi_value_site_uv"}]]}]}]]}]]}],["$","div",null,{"className":"mb-5 border border-solid py-4","children":["$","p",null,{"className":"font-bold text-center text-gray grid-subtitle text-md","children":"CATEGORY"}]}],[["$","div","it-things-and-development",{"children":[["$","a",null,{"href":"/en/categories/it-things-and-development/","className":"blog-link-style","children":["$","div",null,{"className":"py-3 text-sm border-b border-solid font-fondamento","children":["IT Things and Development"," ",["$","span",null,{"className":"font-color-gold-1","children":["(",11,")"]}]]}]}],["$","div",null,{"className":"list-disc list-inside ml-4 text-gray-600","children":[["$","a","research-and-learning",{"className":"link-unstyled","href":"/en/categories/research-and-learning/","children":["$","div",null,{"className":"py-3 text-sm border-b border-solid font-fondamento","children":["Research and Learning Note"," ",["$","span",null,{"className":"font-color-gold-1","children":["(",7,")"]}]]}]}],["$","a","architecture-design-and-solution",{"className":"link-unstyled","href":"/en/categories/architecture-design-and-solution/","children":["$","div",null,{"className":"py-3 text-sm border-b border-solid font-fondamento","children":["Architectural Design and Innovative Solutions"," ",["$","span",null,{"className":"font-color-gold-1","children":["(",1,")"]}]]}]}],["$","a","miri",{"className":"link-unstyled","href":"/en/categories/miri/","children":["$","div",null,{"className":"py-3 text-sm border-b border-solid font-fondamento","children":["Miri Robot Fortune Teller - Making Product Is Not Easy!"," ",["$","span",null,{"className":"font-color-gold-1","children":["(",3,")"]}]]}]}]]}]]}],["$","div","espanol-posts",{"children":[["$","a",null,{"href":"/en/categories/espanol-posts/","className":"blog-link-style","children":["$","div",null,{"className":"py-3 text-sm border-b border-solid font-fondamento","children":["Español Posts"," ",["$","span",null,{"className":"font-color-gold-1","children":["(",2,")"]}]]}]}],["$","div",null,{"className":"list-disc list-inside ml-4 text-gray-600","children":[["$","a","somos-familia",{"className":"link-unstyled","href":"/en/categories/somos-familia/","children":["$","div",null,{"className":"py-3 text-sm border-b border-solid font-fondamento","children":["Novel - Somos familia"," ",["$","span",null,{"className":"font-color-gold-1","children":["(",2,")"]}]]}]}]]}]]}]],["$","div",null,{"className":"mb-10 border border-solid py-4 mt-10","children":["$","p",null,{"className":"font-bold text-center text-gray grid-subtitle text-md","children":"GALLERY"}]}]]}]}]]}]}]}]}]}],["$","footer",null,{"children":[["$","div",null,{"className":"bg-white border-t border-solid","children":["$","div",null,{"className":"container px-5 mx-auto","children":["$","div",null,{"className":"xl:w-1/2 lg:w-3/4 w-full mx-auto text-center","children":["$","div",null,{"className":"text-gray-600 text-center text-xl font-hand-writing tracking-wider py-8 px-2","children":"Hi, It's Mina Yu, a software engineer, blogger and polyglot learner. Since 7-9 years ago, my dream is designing my own personal website and now I did it, I changed the website name to @Mina Influence, want to encourage people by my influence. I will continue to achieve more my dream in the future. I just want to tell you, no matter your plan looks how hard and how unachievable, Once you begin to do it, everything will be changed."}]}]}]}],["$","div",null,{"className":"bg-cyan-50 border-t border-solid","children":["$","div",null,{"className":"text-gray-300 text-center text-md motto-block py-8 px-4","children":"Copy Right © 2024 @Mina Influence. Designed by MINA YU. Sign @MinaYu."}]}]]}]]
