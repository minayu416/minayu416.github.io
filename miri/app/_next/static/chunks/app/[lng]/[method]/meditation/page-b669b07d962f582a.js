(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{6439:function(e,t,n){Promise.resolve().then(n.bind(n,368))},9797:function(e,t,n){"use strict";n.d(t,{he:function(){return c},r1:function(){return l},s0:function(){return s}});let a=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),r=e=>({0:["0.875rem",8],1:["0.75rem",7],2:["0.625rem",6],3:["0.5rem",5],4:["0.375rem",4],5:["0.25rem",3],6:["0.125rem",2],7:["0px",1]})[e]||["1rem",10],s=e=>{let{count:t,isSpread:n}=e;return Array.from({length:t},(e,t)=>({position:"absolute",left:r(t)[0],top:"0px",zIndex:r(t)[1],...n&&{transform:"translate(".concat(a(100,200),"px, ").concat(a(100,200),"px) rotate(").concat(a(100,360),"deg)")},...n&&{zIndex:a(0,50)}}))},l=()=>{let e=[["16px",39],["14px",38],["12px",37],["10px",36],["8px",35],["6px",34],["4px",33],["2px",32],["0px",31]];return Array.from({length:9},(t,n)=>({position:"absolute",left:e[n][0],top:"0px",zIndex:e[n][1]}))},x=e=>({0:[-13,"12px"],1:[-11,"8px"],2:[-8,"8px"],3:[-6,"4px"],4:[-4,"0px"],5:[-3,"0px"],31:[13,"12px"],30:[11,"8px"],29:[8,"8px"],28:[6,"4px"],27:[4,"0px"],26:[3,"0px"]})[e]||[0,"0px"],i=e=>({0:[-13,"12px","0px"],1:[-13,"8px","2px"],2:[-13,"8px","2px"],3:[-11,"4px","4px"],4:[-11,"0px","4px"],5:[-11,"0px","6px"]})[e]||[-9,"0px","8px"],c=e=>{let{isSpread:t}=e;return Array.from({length:32},(e,n)=>({position:"absolute",left:i(n)[2],top:i(n)[1],transform:"rotate(".concat(i(n)[0],"deg)"),...t&&{top:x(n)[1],left:"0%"},...t&&{transform:"translateX(".concat(8*n,"px) rotate(").concat(x(n)[0],"deg)")},zIndex:n+1}))}},368:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(7437),r=n(2265),s=n(7907),l=n(8792),x=n(425),i=n(5951),c=n(5431),o=n(9797);function p(e){let{lng:t}=e,{t:n}=(0,x.$)(t),s=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:n("divination.meditation.initMessageMoonBlock")}),(0,a.jsx)("p",{children:n("divination.meditation.noteMessageMoonBlock")})]}),o=(0,a.jsx)(r.Fragment,{children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(l.default,{href:"/".concat(t,"/poe/prediction"),children:(0,a.jsx)(i.Uv,{title:n("divination.buttons.throw")})})})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pt-48 px-8",children:(0,a.jsx)("div",{className:"border-2 moon-block-cloth p-4",children:(0,a.jsxs)("div",{className:"h-48 md:h-56 flex justify-center border-2 moon-block-inner-cloth p-2 gap-8",children:[(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)("img",{className:"h-32 rotate-[24deg]",src:"/static/poe-cover.png",alt:"poe cover side"})}),(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)("img",{className:"h-32 rotate-[24deg]",src:"/static/poe-up.png",alt:"poe up side"})})]})})}),(0,a.jsx)(c.m,{message:s,buttons:o,settings:"poe"})]})}function d(e){let{lng:t,method:n,selectedStyle:l}=e,{t:p}=(0,x.$)(t),d=(0,s.useRouter)(),u=(0,s.useSearchParams)(),m=u.get("spread"),h=u.get("num"),[f,z]=(0,r.useState)(null),g=(0,r.useRef)(""),j=l.overlayStyle,v=l.cardStyle;(0,r.useEffect)(()=>((0,i.p3)(n,u,z,g,p),g.current&&setTimeout(()=>{d.push("/".concat(t,"/").concat(n,"/introduction"))},5e3),setTimeout(()=>{L()},1e3),document.addEventListener("click",R),()=>{document.removeEventListener("click",R)}),[]);let N=p("divination.meditation.initMessage"),b=(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("p",{children:p("divination.meditation.checkMessage")}),(0,a.jsx)("div",{className:"flex justify-center pt-4",children:(0,a.jsx)(i.Uv,{func:()=>{O(),setTimeout(()=>{d.push("/".concat(t,"/").concat(n,"/draw/")+"?spread="+m+"&num="+h)},4e3)},title:p("divination.buttons.sure")})})]}),[y,w]=(0,r.useState)(null),[k,M]=(0,r.useState)(N),S=(0,r.useRef)(null),E=(0,r.useRef)(null),F=(0,r.useRef)(0),_=e=>{null==y?(F.current=e,w(e),M(b)):y===e?(w(null),M(N)):(F.current=e,w(e),M(b))},R=e=>{S.current&&!S.current.contains(e.target)&&(E.current&&E.current.contains(e.target)||(F.current=null,w(null),M(N)))},[T,A]=(0,r.useState)(!1),[B,I]=(0,r.useState)([]),[C,P]=(0,r.useState)([]),L=()=>{A(!T)},O=()=>{let e=F.current,t=Array.from({length:21-e+1},(t,n)=>e+n);I(e=>[...e,...t]),P(e=>[...e,...t]),setTimeout(()=>{A(!1),setTimeout(()=>{I([])},1e3)},1e3)},U=(0,o.r1)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"pt-24 px-8",children:[f&&(0,a.jsx)(i._P,{errorMessage:g.current}),(0,a.jsxs)("div",{ref:S,className:"relative",children:[[[21,"translate-x-[216px]","translate-x-[216px]","z-[70]","z-[21]"],[20,"translate-x-[200px]","translate-x-[212px]","z-[69]","z-[20]"],[19,"translate-x-[184px]","translate-x-[208px]","z-[68]","z-[19]"],[18,"translate-x-[168px]","translate-x-[204px]","z-[67]","z-[18]"],[17,"translate-x-[156px]","translate-x-[200px]","z-[66]","z-[17]"],[16,"translate-x-[144px]","translate-x-[196px]","z-[65]","z-[16]"],[15,"translate-x-[132px]","translate-x-[192px]","z-[64]","z-[15]"],[14,"translate-x-[120px]","translate-x-[188px]","z-[63]","z-[14]"],[13,"translate-x-[108px]","translate-x-[184px]","z-[62]","z-[13]"],[12,"translate-x-[96px]","translate-x-[184px]","z-[61]","z-[12]"],[11,"translate-x-[88px]","translate-x-[184px]","z-[60]","z-[11]"],[10,"translate-x-[80px]","translate-x-[184px]","z-[59]","z-[10]"],[9,"translate-x-[72px]","translate-x-[184px]","z-[58]","z-[9]"],[8,"translate-x-[64px]","translate-x-[184px]","z-[57]","z-[8]"],[7,"translate-x-14","translate-x-[184px]","z-[56]","z-[7]"],[6,"translate-x-12","translate-x-[184px]","z-[55]","z-[6]"],[5,"translate-x-10","translate-x-[184px]","z-[54]","z-[5]"],[4,"translate-x-8","translate-x-[184px]","z-[53]","z-[4]"],[3,"translate-x-6","translate-x-[184px]","z-[52]","z-[3]"],[2,"translate-x-4","translate-x-[184px]","z-[51]","z-[2]"],[1,"translate-x-2","translate-x-[184px]","z-[50]","z-[1]"],[0,"","translate-x-[184px]","z-[49]","z-[0]"]].map((e,t)=>(0,a.jsxs)("div",{onClick:()=>_(e[0]),className:"transition-transform delay-300 ease-linear duration-500 will-change-transform drop-shadow-md absolute left-4 ".concat(T&&e[1]," top-0 ").concat(C.includes(e[0])?e[4]:e[3]," ").concat(B.includes(e[0])&&e[2]),children:[y===e[0]&&(0,a.jsx)("div",{className:"overlay",style:j}),v]},'"div'.concat(t,'"'))),U.map((e,t)=>(0,a.jsx)("div",{className:"drop-shadow-md",style:e,children:v},'"div-fixed-'.concat(t,'"')))]})]}),(0,a.jsx)("div",{ref:E,children:!f&&(0,a.jsx)(c.m,{message:k,buttons:null,needMsgHideEffect:!1})})]})}function u(e){let{params:{lng:t,method:n}}=e,r=i.bB[n]||i.bB.default;return"poe"===n?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"wallpaper down-wallpaper-color divination-animation",children:[(0,a.jsx)(i.h4,{lng:t}),(0,a.jsx)(p,{lng:t})]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"wallpaper down-wallpaper-color divination-animation",children:[(0,a.jsx)(i.h4,{lng:t}),(0,a.jsx)(d,{lng:t,method:n,selectedStyle:r})]})})}}},function(e){e.O(0,[691,218,676,494,143,267,580,971,69,744],function(){return e(e.s=6439)}),_N_E=e.O()}]);